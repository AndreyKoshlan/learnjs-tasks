| Задача | Файлы |
| --- | --- |
| 5.8.1 Хранение отметок "не прочитано" | [task1.js](task1.js) |
| 5.8.2 Хранение времени прочтения | [task2.js](task2.js) |

# 5.8.1 Хранение отметок "не прочитано"
Есть массив сообщений:
```javascript
let messages = [
  {text: "Hello", from: "John"},
  {text: "How goes?", from: "John"},
  {text: "See you soon", from: "Alice"}
];
```
У вас есть к ним доступ, но управление этим массивом происходит где-то ещё. Добавляются новые сообщения и удаляются старые, и вы не знаете в какой момент это может произойти.
Имея такую вводную информацию, решите, какую структуру данных вы могли бы использовать для ответа на вопрос «было ли сообщение прочитано?». Структура должна быть подходящей, чтобы можно было однозначно сказать, было ли прочитано это сообщение для каждого объекта сообщения.
P.S. Когда сообщение удаляется из массива messages, оно должно также исчезать из структуры данных.
P.P.S. Нам не следует модифицировать сами объекты сообщений, добавлять туда свойства. Если сообщения принадлежат какому-то другому коду, то это может привести к плохим последствиям.

**Решение**
```javascript
// Ответ: WeakSet можно использовать, как структуру данных для ответа на вопрос «было ли сообщение прочитано?»

'use strict';

let messages = [
  {text: "Hello", from: "John"},
  {text: "How goes?", from: "John"},
  {text: "See you soon", from: "Alice"}
];

let readed = new WeakSet(messages);

// проверим, прочитано ли сообщение Hello от John
console.log(readed.has(messages[0])); // true
```

# 5.8.2 Хранение времени прочтения
Есть массив сообщений такой же, как и в предыдущем задании.
```javascript
let messages = [
  { text: "Hello", from: "John" },
  { text: "How goes?", from: "John" },
  { text: "See you soon", from: "Alice" }
];
```
Теперь вопрос стоит так: какую структуру данных вы бы предложили использовать для хранения информации о том, когда сообщение было прочитано?
В предыдущем задании нам нужно было сохранить только факт прочтения «да или нет». Теперь же нам нужно сохранить дату, и она должна исчезнуть из памяти при удалении «сборщиком мусора» сообщения.
P.S. Даты в JavaScript можно хранить как объекты встроенного класса Date, которые мы разберём позднее.

**Решение**
```javascript
// Ответ: WeakMap можно использовать, как структуру данных для хранения информации о том, когда сообщение было прочитано

let messages = [
  { text: "Hello", from: "John" },
  { text: "How goes?", from: "John" },
  { text: "See you soon", from: "Alice" }
];

let timestamps = new WeakMap();
timestamps.set(messages[0], new Date(2010, 1, 1, 12, 0, 0));
timestamps.set(messages[1], new Date(2010, 1, 2, 14, 10, 0));
timestamps.set(messages[2], new Date(2010, 1, 3, 16, 30, 0));

// Первое сообщение
console.log(`Первое сообщение прочитано: ${timestamps.get(messages[0])}`);

// Второе сообщение
console.log(`Второе сообщение прочитано: ${timestamps.get(messages[1])}`);

// Третье сообщение
console.log(`Третье сообщение прочитано: ${timestamps.get(messages[2])}`);
```

